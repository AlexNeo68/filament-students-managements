/*! For license information please see employee-feedback.3944df3d3b4360b5.js.LICENSE.txt */
"use strict";(self["webpackChunkavito_desktop_site"]=self["webpackChunkavito_desktop_site"]||[]).push([[7010],{94728:function(t,e,n){n.r(e),n.d(e,{default:function(){return O}});var r=n(84481),i=n.n(r),o=n(54833),a=n(84921),l=864e5,u=6048e5;function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(l)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p="c71f16b3d3710bbe41af1c43f5af9b3f",h=16,y=48;function b(t){t.preventDefault()}var g=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"clickElementOffset",{x:0,y:0,startClientX:0,startClientY:0}),d(this,"initialState",null),d(this,"elementMoved",!1),d(this,"element",null),d(this,"user",null),d(this,"triggerElementVisibility",void 0),d(this,"attachElement",(function(t){n.element=t,n.initialState&&n.setElementPosition(n.initialState.left,n.initialState.top)})),d(this,"onDragStart",(function(t){var e;if(t.preventDefault(),t.stopPropagation(),0===t.button){var r=t.currentTarget.getBoundingClientRect(),i=r.left,o=r.top;n.elementMoved=!1,n.clickElementOffset={x:t.clientX-i,y:t.clientY-o,startClientX:t.clientX,startClientY:t.clientY},document.addEventListener("pointermove",n.onDragMove),document.addEventListener("pointerup",n.onDragEnd),null===(e=n.element)||void 0===e||e.addEventListener("touchmove",b)}})),d(this,"onDragMove",(function(t){if(!n.elementMoved){var e,r=n.clickElementOffset,i=r.startClientX,o=r.startClientY;if(Math.abs(i-t.clientX)+Math.abs(o-t.clientY)>4)n.elementMoved=!0,null===(e=n.element)||void 0===e||e.setAttribute("data-moving","true")}n.setElementPosition(t.clientX,t.clientY)})),d(this,"onDragEnd",(function(){var t,e;document.removeEventListener("pointermove",n.onDragMove),document.removeEventListener("pointerup",n.onDragEnd),null===(t=n.element)||void 0===t||t.removeEventListener("touchmove",b),null===(e=n.element)||void 0===e||e.removeAttribute("data-moving"),n.elementMoved?n.saveLocalData():n.onElementClick()})),d(this,"setElementPosition",(function(t,e){if(n.element){var r=document.documentElement,i=r.clientWidth,o=r.clientHeight,a=n.element.style,l=Math.max(h,Math.min(i-h-y,t-n.clickElementOffset.x)),u=Math.max(h,Math.min(o-h-y,e-n.clickElementOffset.y));n.initialState&&(n.initialState.left=l,n.initialState.top=u),a.left=l+"px",a.top=u+"px"}})),d(this,"onElementClick",(function(){var t;n.user&&null!==(t=n.initialState)&&void 0!==t&&t.url&&(a["default"].sendEvent(10251,0,{url:document.URL||"",user:n.user.id}),window.open(n.initialState.url,"_blank","noreferrer noopener"))})),d(this,"saveLocalData",(function(){if(n.user&&n.initialState)try{localStorage.setItem(p,JSON.stringify(m(m({},n.initialState),{},{uid:n.user.id})))}catch(t){}})),d(this,"updateUser",(function(t){var e;n.user===t||t&&(null===(e=n.initialState)||void 0===e?void 0:e.uid)===(null==t?void 0:t.id)||(n.user=t,n.loadFeedbackState().then((function(t){n.initialState=t,n.updateElementVisibility(),n.saveLocalData()})))})),d(this,"updateElementVisibility",(function(){var t;n.triggerElementVisibility(Boolean(null===(t=n.initialState)||void 0===t?void 0:t.url))})),this.triggerElementVisibility=e}var e,n,r;return e=t,(n=[{key:"loadFeedbackState",value:function(){if(!this.user)return Promise.resolve(null);var t,e=this.user.id;try{if(p in localStorage){var n,r=JSON.parse(null!==(n=localStorage.getItem(p))&&void 0!==n?n:"");if(null!==(t=r)&&"object"==typeof t&&2===t.version&&"number"==typeof t.uid&&"string"==typeof t.url&&t.validTill>Date.now()&&e===r.uid)return Promise.resolve(r)}}catch(i){}return fetch("/web/1/br",{method:"GET",headers:{Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){var n=t.result||"";return{uid:e,url:n,top:screen.availHeight-h,version:2,left:h,validTill:Date.now()+(n?u:l)}}))}}])&&v(e.prototype,n),r&&v(e,r),t}();var E={root:"styles-module-root-_9_Fp"};function C(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(l)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(){var t=function(t){var e=c((0,r.useState)(!1),2),n=e[0],i=e[1],o=c((0,r.useState)((function(){return new g(i)})),1)[0];return(0,r.useEffect)((function(){o.updateUser(t)}),[o,t]),{show:n,attachElement:o.attachElement,onDragStart:o.onDragStart}}((0,o.a)()),e=t.show,n=t.attachElement,a=t.onDragStart;return e?i().createElement("div",{ref:n,className:E.root,rel:"noopener noreferrer",draggable:"false",onPointerDown:a,onCopy:b,onContextMenu:b},i().createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("path",{d:"M6.66245 7.79907C5.05027 8.44461 3.99029 10.0284 3.99029 11.7918V15.2567C3.99029 18.7871 6.19489 21.7934 9.27925 22.9271C10.1303 23.2399 10.932 22.5014 10.932 21.5578V11.5319C10.932 10.9315 11.4102 10.4448 12 10.4448C12.5898 10.4448 13.068 10.9315 13.068 11.5319V21.5578C13.068 22.5014 13.8697 23.2399 14.7207 22.9271C17.8051 21.7934 20.0097 18.7871 20.0097 15.2567V11.7918C20.0097 10.0284 18.9497 8.44461 17.3376 7.79907L16.4258 7.434C13.5814 6.29504 10.4186 6.29504 7.57418 7.434L6.66245 7.79907Z"}),i().createElement("path",{d:"M17.2553 6.07C17.8605 6.31798 18.5036 5.84188 18.3088 5.19317C18.2328 4.93991 18.1359 4.69099 18.0187 4.44831C17.6913 3.77059 17.2114 3.1548 16.6065 2.63609C16.0016 2.11739 15.2834 1.70593 14.493 1.42521C13.7026 1.14449 12.8555 1 12 1C11.1445 1 10.2974 1.14449 9.50698 1.42521C8.7166 1.70593 7.99844 2.11739 7.39351 2.63609C6.78857 3.1548 6.30872 3.77059 5.98133 4.44831C5.8681 4.68269 5.77388 4.92289 5.69907 5.1672C5.4959 5.83059 6.15176 6.32177 6.77444 6.07487L6.93646 6.01063C10.2641 4.6912 13.9417 4.71236 17.2553 6.07Z"}),i().createElement("path",{d:"M21.9334 13.7049C22.5136 13.675 23 14.1516 23 14.75C23 15.3484 22.5136 15.825 21.9334 15.7951L15.5243 15.465V14.035L21.9334 13.7049Z"}),i().createElement("path",{d:"M20.5342 8.61927C21.0222 8.29455 21.6747 8.45676 21.9652 8.97501C22.2557 9.49326 22.0658 10.1564 21.5488 10.4294L15.8381 13.4442L15.144 12.2058L20.5342 8.61927Z"}),i().createElement("path",{d:"M2.06663 13.7049C1.48637 13.675 1 14.1516 1 14.75C1 15.3484 1.48636 15.825 2.06663 15.7951L8.47573 15.465V14.035L2.06663 13.7049Z"}),i().createElement("path",{d:"M2.45118 19.0706C1.93415 19.3436 1.74428 20.0068 2.03477 20.525C2.32526 21.0433 2.9778 21.2055 3.46581 20.8808L8.85603 17.2942L8.16185 16.0558L2.45118 19.0706Z"}),i().createElement("path",{d:"M3.46581 8.61927C2.9778 8.29455 2.32526 8.45676 2.03477 8.97501C1.74428 9.49326 1.93415 10.1564 2.45118 10.4294L8.16185 13.4442L8.85603 12.2058L3.46581 8.61927Z"}))):null}function O(){var t=C((0,r.useState)(!0),2),e=t[0],n=t[1];return(0,r.useEffect)((function(){return n(!1)}),[]),e?null:i().createElement(w,null)}}}]);